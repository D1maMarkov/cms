{% load icon %}

<div id="{{ block.ancor }}" class="features">
    <div class="inner">
        <h1>{{block.title}}</h1>

        <a>{{ block.introductory_text|safe }}</a>

        <div class="features-container">
            {% for feature in block.features.all %}
                <div class="feature">
                    <div class="icon-wrapper">
                        <img class="icon" src="{{feature.icon.url}}" />
                    </div>

                    <h3>{{ feature.title }}</h3>

                    <span>{{ feature.description }}</span>
                </div>
            {% endfor %}
        </div>

        <button><a>{{ block.button_text }}</a></button>

        <style>
            #block{{id}} .features{
                padding-top: {{styles.margin_top}};
                padding-bottom: {{styles.margin_bottom}};
                background-color: {{styles.background_color}};
            }

            #block{{id}} .features-container{
                display: grid;
                grid-column-gap: 50px;
                grid-row-gap: 10px;
                grid-template-columns: {{styles.columns}};
            }

            #block{{id}} .features .feature .icon-wrapper{
                background-color: {{styles.icon_background_color}};
                width: {{styles.icon_width}};
                height: {{styles.icon_height}};
            }

            #block{{id}} .feature svg{
                fill: {{styles.icon_color}};
            }

            @media screen and (max-width: 760px) {
                #block{{id}} .features-container{
                    grid-template-columns: repeat(1, 1fr);
                }
            }
        </style>
    </div>
</div>
